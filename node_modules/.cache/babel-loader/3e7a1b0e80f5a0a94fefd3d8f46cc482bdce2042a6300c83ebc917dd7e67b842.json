{"ast":null,"code":"import { ref } from 'vue';\nimport { useStore } from 'vuex';\nimport fileMappings from '@/data/index.js';\nexport default {\n  name: 'DataTable',\n  setup() {\n    const store = useStore();\n    const selectedBatch = ref('');\n    const selectedSubjectType = ref('');\n    const selectedProvince = ref('');\n    const selectedType = ref('');\n    const selectedMajorType = ref([]);\n    const majorTypeOptions = ref([{\n      value: '中医学类',\n      label: '中医学类'\n    }, {\n      value: '中国语言文学类',\n      label: '中国语言文学类'\n    }, {\n      value: '中药学类',\n      label: '中药学类'\n    }, {\n      value: '中西医结合类',\n      label: '中西医结合类'\n    }\n    // 其他选项\n    ]);\n    const selectedMajorName = ref('');\n    const minScore = ref(null);\n    const maxScore = ref(null);\n    const rawData = ref([]);\n    const filteredData = ref([]);\n    const resetFilters = () => {\n      selectedSubjectType.value = '';\n      selectedProvince.value = '';\n      selectedType.value = '';\n      selectedMajorType.value = '';\n      selectedMajorName.value = '';\n      minScore.value = null;\n      maxScore.value = null;\n    };\n    const updateBatch = value => {\n      selectedBatch.value = value;\n      resetFilters();\n      loadData();\n    };\n    const updateSubjectType = value => {\n      selectedSubjectType.value = value;\n      filterData();\n    };\n    const updateProvince = value => {\n      selectedProvince.value = value;\n      filterData();\n    };\n    const updateType = value => {\n      selectedType.value = value;\n      filterData();\n    };\n    const updateMajorType = value => {\n      selectedMajorType.value = value;\n      filterData();\n    };\n    const updateMajorName = value => {\n      selectedMajorName.value = value;\n      filterData();\n    };\n    const updateMinScore = value => {\n      minScore.value = value;\n      filterData();\n    };\n    const updateMaxScore = value => {\n      maxScore.value = value;\n      filterData();\n    };\n    const handleFilter = () => {\n      filterData();\n    };\n    const handleAddToArchive = record => {\n      const {\n        name\n      } = store.state.studentInformation;\n      if (!name) {\n        alert('请先设定报考人');\n        return;\n      }\n      if (!store.state.tablenamelist[name]) {\n        alert('没有找到当前报考人，请先构建档案');\n        return;\n      }\n      const recordToAdd = {\n        schoolName: record['院校名称'],\n        majorName: record['专业名称']\n      };\n      store.commit('addToArchive', {\n        name,\n        record: recordToAdd\n      });\n      alert('数据已添加到报考档案');\n    };\n    const loadData = async () => {\n      try {\n        const url = window.location.href;\n        let category = '';\n        if (url.includes('history')) {\n          category = '历史类';\n        } else if (url.includes('physics')) {\n          category = '物理类';\n        }\n        const batch = selectedBatch.value;\n        const key = `${category}${batch}`;\n        const data = fileMappings[key];\n        if (data) {\n          rawData.value = data.default || data;\n          filterData();\n        } else {\n          throw new Error(`Data file ${key} not found`);\n        }\n      } catch (error) {\n        console.error('Error loading data:', error);\n      }\n    };\n    const filterData = () => {\n      filteredData.value = rawData.value.filter(item => {\n        const matchesMajorType = selectedMajorType.value.length === 0 || selectedMajorType.value.some(type => item['专业类'] === type);\n        return (selectedSubjectType.value === '' || item['再选'] === selectedSubjectType.value) && (selectedProvince.value === '' || item['省市自治区'] === selectedProvince.value) && (selectedType.value === '' || item['办学性质备注'] === selectedType.value) && matchesMajorType && (selectedMajorName.value === '' || item['专业名称'] === selectedMajorName.value) && (minScore.value === null || item['2023年投档线'] >= minScore.value) && (maxScore.value === null || item['2023年投档线'] <= maxScore.value);\n      });\n    };\n    const filterOption = (input, option) => {\n      return option.label.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n    };\n    return {\n      selectedBatch,\n      selectedSubjectType,\n      selectedProvince,\n      selectedType,\n      selectedMajorType,\n      selectedMajorName,\n      minScore,\n      maxScore,\n      rawData,\n      filteredData,\n      updateBatch,\n      updateSubjectType,\n      updateProvince,\n      updateType,\n      updateMajorType,\n      updateMajorName,\n      updateMinScore,\n      updateMaxScore,\n      handleFilter,\n      filterOption,\n      handleAddToArchive\n    };\n  },\n  data() {\n    return {\n      columns: [{\n        title: '院校名称',\n        dataIndex: 'schoolName',\n        key: 'schoolName',\n        fixed: 'left',\n        width: 150\n      }, {\n        title: '省份',\n        dataIndex: 'province',\n        key: 'province',\n        fixed: 'left'\n      }, {\n        title: '专业类',\n        dataIndex: 'majorType',\n        key: 'majorType',\n        fixed: 'left'\n      }, {\n        title: '专业名称',\n        dataIndex: 'majorName',\n        key: 'majorName',\n        fixed: 'left'\n      }, {\n        title: '公办民办',\n        dataIndex: 'type',\n        key: 'type'\n      }, {\n        title: '办学层次',\n        dataIndex: '办学层次',\n        key: '办学层次'\n      }, {\n        title: '所在地',\n        dataIndex: '所在地',\n        key: '所在地'\n      }, {\n        title: '主管部门',\n        dataIndex: '主管部门',\n        key: '主管部门'\n      }, {\n        title: '学校档次',\n        dataIndex: '学校档次',\n        key: '学校档次'\n      }, {\n        title: '硕士招生资格',\n        dataIndex: '硕士招生资格',\n        key: '硕士招生资格'\n      }, {\n        title: '博士招生资格',\n        dataIndex: '博士招生资格',\n        key: '博士招生资格'\n      }, {\n        title: '院校代码',\n        dataIndex: '院校代码',\n        key: '院校代码'\n      }, {\n        title: '专业代码',\n        dataIndex: '专业代码',\n        key: '专业代码'\n      }, {\n        title: '学制',\n        dataIndex: '学制',\n        key: '学制'\n      }, {\n        title: '学费',\n        dataIndex: '学费',\n        key: '学费'\n      }, {\n        title: '2024年计划数',\n        dataIndex: '2024年计划数',\n        key: '2024年计划数'\n      }, {\n        title: '2023年计划',\n        dataIndex: '2023年计划',\n        key: '2023年计划'\n      }, {\n        title: '分数',\n        dataIndex: 'score',\n        key: 'score',\n        fixed: 'right'\n      }, {\n        title: '2023年投档线位次',\n        dataIndex: '2023年投档线位次',\n        key: '2023年投档线位次',\n        fixed: 'right'\n      }, {\n        title: '操作',\n        key: 'actions',\n        dataIndex: 'actions',\n        fixed: 'right'\n      }]\n    };\n  }\n};","map":{"version":3,"names":["ref","useStore","fileMappings","name","setup","store","selectedBatch","selectedSubjectType","selectedProvince","selectedType","selectedMajorType","majorTypeOptions","value","label","selectedMajorName","minScore","maxScore","rawData","filteredData","resetFilters","updateBatch","loadData","updateSubjectType","filterData","updateProvince","updateType","updateMajorType","updateMajorName","updateMinScore","updateMaxScore","handleFilter","handleAddToArchive","record","state","studentInformation","alert","tablenamelist","recordToAdd","schoolName","majorName","commit","url","window","location","href","category","includes","batch","key","data","default","Error","error","console","filter","item","matchesMajorType","length","some","type","filterOption","input","option","toLowerCase","indexOf","columns","title","dataIndex","fixed","width"],"sources":["/Users/jiangxingnandecomputer/Desktop/sss/gao_kao_system/src/components/DataTable.vue"],"sourcesContent":["<template class=\"data-table-container\">\n    <div>\n        <a-form layout=\"inline\" @submit.prevent=\"handleFilter\" class=\"filter-form\">\n            <a-form-item label=\"批次\">\n                <a-select placeholder=\"选择批次\" style=\"width: 200px\" @change=\"updateBatch\">\n                    <a-select-option value=\"提前批本科\">提前批本科</a-select-option>\n                    <a-select-option value=\"普通批本科\">普通批本科</a-select-option>\n                    <a-select-option value=\"提前批专科\">提前批专科</a-select-option>\n                    <a-select-option value=\"普通批专科\">普通批专科</a-select-option>\n                </a-select>\n            </a-form-item>\n            <a-form-item label=\"再选\">\n                <a-select placeholder=\"选择再选\" style=\"width: 200px\" @change=\"updateSubjectType\">\n                    <a-select-option value=\"化学\">化学</a-select-option>\n                    <a-select-option value=\"不限\">不限</a-select-option>\n                </a-select>\n            </a-form-item>\n            <a-form-item label=\"省份\">\n                <a-select placeholder=\"选择省份\" style=\"width: 200px\" @change=\"updateProvince\">\n                    <a-select-option value=\"河北省\">河北省</a-select-option>\n                    <a-select-option value=\"山西省\">山西省</a-select-option>\n                    <a-select-option value=\"辽宁省\">辽宁省</a-select-option>\n                    <a-select-option value=\"吉林省\">吉林省</a-select-option>\n                    <a-select-option value=\"黑龙江省\">黑龙江省</a-select-option>\n                    <a-select-option value=\"江苏省\">江苏省</a-select-option>\n                    <a-select-option value=\"浙江省\">浙江省</a-select-option>\n                    <a-select-option value=\"安徽省\">安徽省</a-select-option>\n                    <a-select-option value=\"福建省\">福建省</a-select-option>\n                    <a-select-option value=\"江西省\">江西省</a-select-option>\n                    <a-select-option value=\"山东省\">山东省</a-select-option>\n                    <a-select-option value=\"河南省\">河南省</a-select-option>\n                    <a-select-option value=\"湖北省\">湖北省</a-select-option>\n                    <a-select-option value=\"湖南省\">湖南省</a-select-option>\n                    <a-select-option value=\"广东省\">广东省</a-select-option>\n                    <a-select-option value=\"海南省\">海南省</a-select-option>\n                    <a-select-option value=\"四川省\">四川省</a-select-option>\n                    <a-select-option value=\"贵州省\">贵州省</a-select-option>\n                    <a-select-option value=\"云南省\">云南省</a-select-option>\n                    <a-select-option value=\"陕西省\">陕西省</a-select-option>\n                    <a-select-option value=\"甘肃省\">甘肃省</a-select-option>\n                    <a-select-option value=\"青海省\">青海省</a-select-option>\n                    <a-select-option value=\"台湾省\">台湾省</a-select-option>\n                    <a-select-option value=\"内蒙古自治区\">内蒙古自治区</a-select-option>\n                    <a-select-option value=\"广西自治区\">广西自治区</a-select-option>\n                    <a-select-option value=\"西藏自治区\">西藏自治区</a-select-option>\n                    <a-select-option value=\"宁夏自治区\">宁夏自治区</a-select-option>\n                    <a-select-option value=\"新疆自治区\">新疆自治区</a-select-option>\n                    <a-select-option value=\"北京市\">北京市</a-select-option>\n                    <a-select-option value=\"天津市\">天津市</a-select-option>\n                    <a-select-option value=\"上海市\">上海市</a-select-option>\n                    <a-select-option value=\"重庆市\">重庆市</a-select-option>\n                    <a-select-option value=\"香港\">香港</a-select-option>\n                    <a-select-option value=\"澳门\">澳门</a-select-option>\n                </a-select>\n            </a-form-item>\n            <a-form-item label=\"公办民办\">\n                <a-select placeholder=\"选择公办民办\" style=\"width: 200px\" @change=\"updateType\">\n                    <a-select-option value=\"公办\">公办</a-select-option>\n                    <a-select-option value=\"民办\">民办</a-select-option>\n                    <a-select-option value=\"合作办学\">合作办学</a-select-option>\n                    <a-select-option value=\"军委直属院校\">军委直属院校</a-select-option>\n                    <a-select-option value=\"军兵种院校\">军兵种院校</a-select-option>\n                </a-select>\n            </a-form-item>\n            <a-form-item label=\"专业类\">\n    <a-select\n        v-model:value=\"selectedMajorType\"\n        :options=\"majorTypeOptions\"\n        mode=\"tags\"\n        placeholder=\"选择专业类\"\n        style=\"width: 200px\"\n        @change=\"updateMajorType\"\n        show-search\n        :filter-option=\"filterOption\"\n    >\n                    <a-select-option value=\"中医学类\">中医学类</a-select-option>\n                    <a-select-option value=\"中国语言文学类\">中国语言文学类</a-select-option>\n                    <a-select-option value=\"中药学类\">中药学类</a-select-option>\n                    <a-select-option value=\"中西医结合类\">中西医结合类</a-select-option>\n                    <a-select-option value=\"临床医学类\">临床医学类</a-select-option>\n                    <a-select-option value=\"交通运输类\">交通运输类</a-select-option>\n                    <a-select-option value=\"仪器类\">仪器类</a-select-option>\n                    <a-select-option value=\"体育学类\">体育学类</a-select-option>\n                    <a-select-option value=\"健康管理与促进类\">健康管理与促进类</a-select-option>\n                    <a-select-option value=\"公共卫生与预防医学类\">公共卫生与预防医学类</a-select-option>\n                    <a-select-option value=\"公共服务类\">公共服务类</a-select-option>\n                    <a-select-option value=\"公共管理类\">公共管理类</a-select-option>\n                    <a-select-option value=\"公安学类\">公安学类</a-select-option>\n                    <a-select-option value=\"公安技术类\">公安技术类</a-select-option>\n                    <a-select-option value=\"兵器类\">兵器类</a-select-option>\n                    <a-select-option value=\"农业工程类\">农业工程类</a-select-option>\n                    <a-select-option value=\"农业经济管理类\">农业经济管理类</a-select-option>\n                    <a-select-option value=\"力学类\">力学类</a-select-option>\n                    <a-select-option value=\"动物医学类\">动物医学类</a-select-option>\n                    <a-select-option value=\"动物生产类\">动物生产类</a-select-option>\n                    <a-select-option value=\"化学类\">化学类</a-select-option>\n                    <a-select-option value=\"化工与制药类\">化工与制药类</a-select-option>\n                    <a-select-option value=\"化工技术类\">化工技术类</a-select-option>\n                    <a-select-option value=\"医学技术类\">医学技术类</a-select-option>\n                    <a-select-option value=\"印刷类\">印刷类</a-select-option>\n                    <a-select-option value=\"历史学类\">历史学类</a-select-option>\n                    <a-select-option value=\"口腔医学类\">口腔医学类</a-select-option>\n                    <a-select-option value=\"哲学类\">哲学类</a-select-option>\n                    <a-select-option value=\"图书情报与档案管理类\">图书情报与档案管理类</a-select-option>\n                    <a-select-option value=\"土建施工类\">土建施工类</a-select-option>\n                    <a-select-option value=\"土木类\">土木类</a-select-option>\n                    <a-select-option value=\"地球物理学类\">地球物理学类</a-select-option>\n                    <a-select-option value=\"地理科学类\">地理科学类</a-select-option>\n                    <a-select-option value=\"地质学类\">地质学类</a-select-option>\n                    <a-select-option value=\"地质类\">地质类</a-select-option>\n                    <a-select-option value=\"基础医学类\">基础医学类</a-select-option>\n                    <a-select-option value=\"外国语言文学类\">外国语言文学类</a-select-option>\n                    <a-select-option value=\"大气科学类\">大气科学类</a-select-option>\n                    <a-select-option value=\"天文学类\">天文学类</a-select-option>\n                    <a-select-option value=\"安全科学与工程类\">安全科学与工程类</a-select-option>\n                    <a-select-option value=\"少数民族预科班\">少数民族预科班</a-select-option>\n                    <a-select-option value=\"工业工程类\">工业工程类</a-select-option>\n                    <a-select-option value=\"工商管理类\">工商管理类</a-select-option>\n                    <a-select-option value=\"康复治疗类\">康复治疗类</a-select-option>\n                    <a-select-option value=\"建筑类\">建筑类</a-select-option>\n                    <a-select-option value=\"建筑设备类\">建筑设备类</a-select-option>\n                    <a-select-option value=\"建筑设计类\">建筑设计类</a-select-option>\n                    <a-select-option value=\"建设工程管理类\">建设工程管理类</a-select-option>\n                    <a-select-option value=\"心理学类\">心理学类</a-select-option>\n                    <a-select-option value=\"戏剧与影视学类\">戏剧与影视学类</a-select-option>\n                    <a-select-option value=\"护理学类\">护理学类</a-select-option>\n                    <a-select-option value=\"护理类\">护理类</a-select-option>\n                    <a-select-option value=\"政治学类\">政治学类</a-select-option>\n                    <a-select-option value=\"教育学类\">教育学类</a-select-option>\n                    <a-select-option value=\"数学类\">数学类</a-select-option>\n                    <a-select-option value=\"新闻传播学类\">新闻传播学类</a-select-option>\n                    <a-select-option value=\"旅游管理类\">旅游管理类</a-select-option>\n                    <a-select-option value=\"机械类\">机械类</a-select-option>\n                    <a-select-option value=\"机械设计制造类\">机械设计制造类</a-select-option>\n                    <a-select-option value=\"机电设备类\">机电设备类</a-select-option>\n                    <a-select-option value=\"材料类\">材料类</a-select-option>\n                    <a-select-option value=\"林业工程类\">林业工程类</a-select-option>\n                    <a-select-option value=\"林学类\">林学类</a-select-option>\n                    <a-select-option value=\"核工程类\">核工程类</a-select-option>\n                    <a-select-option value=\"植物生产类\">植物生产类</a-select-option>\n                    <a-select-option value=\"气象类\">气象类</a-select-option>\n                    <a-select-option value=\"水上运输类\">水上运输类</a-select-option>\n                    <a-select-option value=\"水产类\">水产类</a-select-option>\n                    <a-select-option value=\"水利类\">水利类</a-select-option>\n                    <a-select-option value=\"汽车制造类\">汽车制造类</a-select-option>\n                    <a-select-option value=\"法医学类\">法医学类</a-select-option>\n                    <a-select-option value=\"法学类\">法学类</a-select-option>\n                    <a-select-option value=\"测绘类\">测绘类</a-select-option>\n                    <a-select-option value=\"海洋工程类\">海洋工程类</a-select-option>\n                    <a-select-option value=\"海洋科学类\">海洋科学类</a-select-option>\n                    <a-select-option value=\"煤炭类\">煤炭类</a-select-option>\n                    <a-select-option value=\"物流管理与工程类\">物流管理与工程类</a-select-option>\n                    <a-select-option value=\"物流类\">物流类</a-select-option>\n                    <a-select-option value=\"物理学类\">物理学类</a-select-option>\n                    <a-select-option value=\"环境保护类\">环境保护类</a-select-option>\n                    <a-select-option value=\"环境科学与工程类\">环境科学与工程类</a-select-option>\n                    <a-select-option value=\"生物医学工程类\">生物医学工程类</a-select-option>\n                    <a-select-option value=\"生物工程类\">生物工程类</a-select-option>\n                    <a-select-option value=\"生物科学类\">生物科学类</a-select-option>\n                    <a-select-option value=\"电子信息类\">电子信息类</a-select-option>\n                    <a-select-option value=\"电子商务类\">电子商务类</a-select-option>\n                    <a-select-option value=\"电气类\">电气类</a-select-option>\n                    <a-select-option value=\"石油与天然气类\">石油与天然气类</a-select-option>\n                    <a-select-option value=\"矿业类\">矿业类</a-select-option>\n                    <a-select-option value=\"社会学类\">社会学类</a-select-option>\n                    <a-select-option value=\"管理科学与工程类\">管理科学与工程类</a-select-option>\n                    <a-select-option value=\"粮食类\">粮食类</a-select-option>\n                    <a-select-option value=\"纺织类\">纺织类</a-select-option>\n                    <a-select-option value=\"经济与贸易类\">经济与贸易类</a-select-option>\n                    <a-select-option value=\"经济学类\">经济学类</a-select-option>\n                    <a-select-option value=\"统计学类\">统计学类</a-select-option>\n                    <a-select-option value=\"美术学类\">美术学类</a-select-option>\n                    <a-select-option value=\"能源动力类\">能源动力类</a-select-option>\n                    <a-select-option value=\"自动化类\">自动化类</a-select-option>\n                    <a-select-option value=\"自然保护与环境生态类\">自然保护与环境生态类</a-select-option>\n                    <a-select-option value=\"航空航天类\">航空航天类</a-select-option>\n                    <a-select-option value=\"航空装备类\">航空装备类</a-select-option>\n                    <a-select-option value=\"航空运输类\">航空运输类</a-select-option>\n                    <a-select-option value=\"艺术学理论类\">艺术学理论类</a-select-option>\n                    <a-select-option value=\"草学类\">草学类</a-select-option>\n                    <a-select-option value=\"药品与医疗器械类\">药品与医疗器械类</a-select-option>\n                    <a-select-option value=\"药学类\">药学类</a-select-option>\n                    <a-select-option value=\"计算机类\">计算机类</a-select-option>\n                    <a-select-option value=\"设计学类\">设计学类</a-select-option>\n                    <a-select-option value=\"试验班类\">试验班类</a-select-option>\n                    <a-select-option value=\"财务会计类\">财务会计类</a-select-option>\n                    <a-select-option value=\"财政学类\">财政学类</a-select-option>\n                    <a-select-option value=\"财政税务类\">财政税务类</a-select-option>\n                    <a-select-option value=\"轻工类\">轻工类</a-select-option>\n                    <a-select-option value=\"边防军人子女预科班\">边防军人子女预科班</a-select-option>\n                    <a-select-option value=\"道路运输类\">道路运输类</a-select-option>\n                    <a-select-option value=\"金融学类\">金融学类</a-select-option>\n                    <a-select-option value=\"食品科学与工程类\">食品科学与工程类</a-select-option>\n                    <a-select-option value=\"香港的大学专业\">香港的大学专业</a-select-option>\n                    <a-select-option value=\"马克思主义理论类\">马克思主义理论类</a-select-option>\n                    <a-select-option value=\"黑色金属材料类\">黑色金属材料类</a-select-option>\n                </a-select>\n            </a-form-item>\n\n            <a-form-item label=\"专业名称\">\n                <a-select placeholder=\"选择专业名称\" style=\"width: 200px\" @change=\"updateMajorName\">\n                    <!-- Add options for major names dynamically based on data -->\n                </a-select>\n            </a-form-item>\n            <a-form-item label=\"分数区间\">\n                <a-input-number placeholder=\"最低分\" style=\"width: 100px\" @change=\"updateMinScore\" />\n                -\n                <a-input-number placeholder=\"最高分\" style=\"width: 100px\" @change=\"updateMaxScore\" />\n            </a-form-item>\n\n            <a-form-item>\n                <!-- <a-button type=\"primary\" @click=\"handleFilter\">筛选</a-button> -->\n            </a-form-item>\n        </a-form>\n\n        <a-table :columns=\"columns\" :dataSource=\"filteredData\" :scroll=\"{ x: 2000, y: 850 }\">\n            <template #bodyCell=\"{ column, record }\">\n                <template v-if=\"column.key === 'schoolName'\">\n                    <a>{{ record['院校名称'] }}</a>\n                </template>\n                <template v-else-if=\"column.key === 'majorName'\">\n                    <span>{{ record['专业名称'] }}</span>\n                </template>\n                <template v-else-if=\"column.key === 'province'\">\n                    <span>{{ record['省市自治区'] }}</span>\n                </template>\n                <template v-else-if=\"column.key === 'score'\">\n                    <span>{{ record['2023年投档线'] }}</span>\n                </template>\n                <template v-else-if=\"column.key === 'type'\">\n                    <span>{{ record['办学性质备注'] }}</span>\n                </template>\n                <template v-else-if=\"column.key === 'majorType'\">\n                    <span>{{ record['专业类'] }}</span>\n                </template>\n                <template v-else-if=\"column.key === 'actions'\">\n          <a-button type=\"primary\" @click=\"handleAddToArchive(record)\">添加</a-button>\n        </template>\n            </template>\n        </a-table>\n    </div>\n</template>\n\n<script>\nimport { ref } from 'vue';\nimport { useStore } from 'vuex';\nimport fileMappings from '@/data/index.js';\n\nexport default {\n    name: 'DataTable',\n    setup() {\n        const store = useStore();\n        const selectedBatch = ref('');\n        const selectedSubjectType = ref('');\n        const selectedProvince = ref('');\n        const selectedType = ref('');\n        const selectedMajorType = ref([]);\n        const majorTypeOptions = ref([\n    { value: '中医学类', label: '中医学类' },\n    { value: '中国语言文学类', label: '中国语言文学类' },\n    { value: '中药学类', label: '中药学类' },\n    { value: '中西医结合类', label: '中西医结合类' },\n    // 其他选项\n]);\n        const selectedMajorName = ref('');\n        const minScore = ref(null);\n        const maxScore = ref(null);\n        const rawData = ref([]);\n        const filteredData = ref([]);\n\n        const resetFilters = () => {\n            selectedSubjectType.value = '';\n            selectedProvince.value = '';\n            selectedType.value = '';\n            selectedMajorType.value = '';\n            selectedMajorName.value = '';\n            minScore.value = null;\n            maxScore.value = null;\n        };\n\n        const updateBatch = (value) => {\n            selectedBatch.value = value;\n            resetFilters();\n            loadData();\n        };\n\n        const updateSubjectType = (value) => {\n            selectedSubjectType.value = value;\n            filterData();\n        };\n\n        const updateProvince = (value) => {\n            selectedProvince.value = value;\n            filterData();\n        };\n\n        const updateType = (value) => {\n            selectedType.value = value;\n            filterData();\n        };\n\n        const updateMajorType = (value) => {\n    selectedMajorType.value = value;\n    filterData();\n};\n\n        const updateMajorName = (value) => {\n            selectedMajorName.value = value;\n            filterData();\n        };\n\n        const updateMinScore = (value) => {\n            minScore.value = value;\n            filterData();\n        };\n\n        const updateMaxScore = (value) => {\n            maxScore.value = value;\n            filterData();\n        };\n\n        const handleFilter = () => {\n            filterData();\n        };\n\n        const handleAddToArchive = (record) => {\n            const { name } = store.state.studentInformation;\n            if (!name) {\n                alert('请先设定报考人');\n                return;\n            }\n\n            if (!store.state.tablenamelist[name]) {\n                alert('没有找到当前报考人，请先构建档案');\n                return;\n            }\n\n            const recordToAdd = {\n                schoolName: record['院校名称'],\n                majorName: record['专业名称'],\n\n            };\n            store.commit('addToArchive', { name, record: recordToAdd });\n            alert('数据已添加到报考档案');\n        };\n\n        const loadData = async () => {\n            try {\n                const url = window.location.href;\n                let category = '';\n                if (url.includes('history')) {\n                    category = '历史类';\n                } else if (url.includes('physics')) {\n                    category = '物理类';\n                }\n                const batch = selectedBatch.value;\n                const key = `${category}${batch}`;\n                const data = fileMappings[key];\n                if (data) {\n                    rawData.value = data.default || data;\n                    filterData();\n                } else {\n                    throw new Error(`Data file ${key} not found`);\n                }\n            } catch (error) {\n                console.error('Error loading data:', error);\n            }\n        };\n\n        const filterData = () => {\n    filteredData.value = rawData.value.filter((item) => {\n        const matchesMajorType = selectedMajorType.value.length === 0 || selectedMajorType.value.some(type => item['专业类'] === type);\n        return (\n            (selectedSubjectType.value === '' || item['再选'] === selectedSubjectType.value) &&\n            (selectedProvince.value === '' || item['省市自治区'] === selectedProvince.value) &&\n            (selectedType.value === '' || item['办学性质备注'] === selectedType.value) &&\n            matchesMajorType &&\n            (selectedMajorName.value === '' || item['专业名称'] === selectedMajorName.value) &&\n            (minScore.value === null || item['2023年投档线'] >= minScore.value) &&\n            (maxScore.value === null || item['2023年投档线'] <= maxScore.value)\n        );\n    });\n};\n\n\n        const filterOption = (input, option) => {\n            return option.label.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n        };\n\n        return {\n            selectedBatch,\n            selectedSubjectType,\n            selectedProvince,\n            selectedType,\n            selectedMajorType,\n            selectedMajorName,\n            minScore,\n            maxScore,\n            rawData,\n            filteredData,\n            updateBatch,\n            updateSubjectType,\n            updateProvince,\n            updateType,\n            updateMajorType,\n            updateMajorName,\n            updateMinScore,\n            updateMaxScore,\n            handleFilter,\n            filterOption,\n            handleAddToArchive\n        };\n    },\n    data() {\n        return {\n            columns: [\n                {\n                    title: '院校名称',\n                    dataIndex: 'schoolName',\n                    key: 'schoolName',\n                    fixed: 'left',\n                    width: 150,\n                },\n                {\n                    title: '省份',\n                    dataIndex: 'province',\n                    key: 'province',\n                    fixed: 'left',\n                },\n                {\n                    title: '专业类',\n                    dataIndex: 'majorType',\n                    key: 'majorType',\n                    fixed: 'left',\n                },\n                {\n                    title: '专业名称',\n                    dataIndex: 'majorName',\n                    key: 'majorName',\n                    fixed: 'left',\n                },\n                {\n                    title: '公办民办',\n                    dataIndex: 'type',\n                    key: 'type',\n                },\n                {\n                    title: '办学层次',\n                    dataIndex: '办学层次',\n                    key: '办学层次',\n                },\n                {\n                    title: '所在地',\n                    dataIndex: '所在地',\n                    key: '所在地',\n                },\n                {\n                    title: '主管部门',\n                    dataIndex: '主管部门',\n                    key: '主管部门',\n                },\n                {\n                    title: '学校档次',\n                    dataIndex: '学校档次',\n                    key: '学校档次',\n                },\n                {\n                    title: '硕士招生资格',\n                    dataIndex: '硕士招生资格',\n                    key: '硕士招生资格',\n                },\n                {\n                    title: '博士招生资格',\n                    dataIndex: '博士招生资格',\n                    key: '博士招生资格',\n                },\n                {\n                    title: '院校代码',\n                    dataIndex: '院校代码',\n                    key: '院校代码',\n                },\n                {\n                    title: '专业代码',\n                    dataIndex: '专业代码',\n                    key: '专业代码',\n                },\n                {\n                    title: '学制',\n                    dataIndex: '学制',\n                    key: '学制',\n                },\n                {\n                    title: '学费',\n                    dataIndex: '学费',\n                    key: '学费',\n                },\n                {\n                    title: '2024年计划数',\n                    dataIndex: '2024年计划数',\n                    key: '2024年计划数',\n                },\n                {\n                    title: '2023年计划',\n                    dataIndex: '2023年计划',\n                    key: '2023年计划',\n                },\n                {\n                    title: '分数',\n                    dataIndex: 'score',\n                    key: 'score',\n                    fixed: 'right',\n                },\n                {\n                    title: '2023年投档线位次',\n                    dataIndex: '2023年投档线位次',\n                    key: '2023年投档线位次',\n                    fixed: 'right',\n                },\n                {\n                    title: '操作',\n                    key: 'actions',\n                    dataIndex: 'actions',\n                    fixed: 'right',\n                }\n            ],\n        };\n    },\n};\n</script>\n\n<style scoped>\n.data-table-container {\n    padding: 20px;\n    background-color: #ffffff;\n    border-radius: 8px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n    min-height: 1000px;\n}\n\n.filter-form {\n    margin-bottom: 20px;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 20px;\n}\n\n.filter-form .ant-form-item {\n    flex: 1;\n    min-width: 200px;\n}\n\n.ant-table {\n    background: white;\n    border-radius: 8px;\n    overflow: hidden;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}