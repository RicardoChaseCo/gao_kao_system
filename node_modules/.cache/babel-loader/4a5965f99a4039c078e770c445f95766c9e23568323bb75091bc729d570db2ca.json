{"ast":null,"code":"import { ref } from 'vue';\nimport { SmileOutlined } from '@ant-design/icons-vue';\nimport fileMappings from '@/data/index.js';\nexport default {\n  name: 'DataTable',\n  components: {\n    SmileOutlined\n  },\n  setup() {\n    const selectedBatch = ref('');\n    const selectedSubjectType = ref('');\n    const selectedProvince = ref('');\n    const selectedType = ref('');\n    const selectedMajorType = ref('');\n    const selectedMajorName = ref('');\n    const minScore = ref(null);\n    const maxScore = ref(null);\n    const filteredData = ref([]);\n    const updateBatch = value => {\n      selectedBatch.value = value;\n      loadData();\n    };\n    const updateSubjectType = value => {\n      selectedSubjectType.value = value;\n      filterData();\n    };\n    const updateProvince = value => {\n      selectedProvince.value = value;\n      filterData();\n    };\n    const updateType = value => {\n      selectedType.value = value;\n      filterData();\n    };\n    const updateMajorType = value => {\n      selectedMajorType.value = value;\n      filterData();\n    };\n    const updateMajorName = value => {\n      selectedMajorName.value = value;\n      filterData();\n    };\n    const updateMinScore = value => {\n      minScore.value = value;\n      filterData();\n    };\n    const updateMaxScore = value => {\n      maxScore.value = value;\n      filterData();\n    };\n    const handleFilter = () => {\n      filterData();\n    };\n    const loadData = async () => {\n      try {\n        // Determine the file name based on batch and current URL\n        const url = window.location.href;\n        let category = '';\n        if (url.includes('history')) {\n          category = '历史类';\n        } else if (url.includes('physics')) {\n          category = '物理类';\n        }\n        const batch = selectedBatch.value;\n        const key = `${category}${batch}.json`;\n\n        // Load the JSON file using the mapping\n        const data = fileMappings[key];\n        if (data) {\n          filteredData.value = data;\n          filterData();\n        } else {\n          throw new Error(`Data file ${key} not found`);\n        }\n      } catch (error) {\n        console.error('Error loading data:', error);\n      }\n    };\n    const filterData = () => {\n      filteredData.value = filteredData.value.filter(item => {\n        return (selectedSubjectType.value === '' || item['再选'] === selectedSubjectType.value) && (selectedProvince.value === '' || item['省市自治区'] === selectedProvince.value) && (selectedType.value === '' || item['办学性质备注'] === selectedType.value) && (selectedMajorType.value === '' || item['专业类'] === selectedMajorType.value) && (selectedMajorName.value === '' || item['专业名称'] === selectedMajorName.value) && (minScore.value === null || item['2023年投档线'] >= minScore.value) && (maxScore.value === null || item['2023年投档线'] <= maxScore.value);\n      });\n    };\n    return {\n      selectedBatch,\n      selectedSubjectType,\n      selectedProvince,\n      selectedType,\n      selectedMajorType,\n      selectedMajorName,\n      minScore,\n      maxScore,\n      filteredData,\n      updateBatch,\n      updateSubjectType,\n      updateProvince,\n      updateType,\n      updateMajorType,\n      updateMajorName,\n      updateMinScore,\n      updateMaxScore,\n      handleFilter\n    };\n  },\n  data() {\n    return {\n      columns: [{\n        title: '院校名称',\n        dataIndex: 'schoolName',\n        key: 'schoolName'\n      }, {\n        title: '专业名称',\n        dataIndex: 'majorName',\n        key: 'majorName'\n      }, {\n        title: '省份',\n        dataIndex: 'province',\n        key: 'province'\n      }, {\n        title: '分数',\n        dataIndex: 'score',\n        key: 'score'\n      }, {\n        title: '公办民办',\n        dataIndex: 'type',\n        key: 'type'\n      }, {\n        title: '专业类',\n        dataIndex: 'majorType',\n        key: 'majorType'\n      }]\n    };\n  }\n};","map":{"version":3,"names":["ref","SmileOutlined","fileMappings","name","components","setup","selectedBatch","selectedSubjectType","selectedProvince","selectedType","selectedMajorType","selectedMajorName","minScore","maxScore","filteredData","updateBatch","value","loadData","updateSubjectType","filterData","updateProvince","updateType","updateMajorType","updateMajorName","updateMinScore","updateMaxScore","handleFilter","url","window","location","href","category","includes","batch","key","data","Error","error","console","filter","item","columns","title","dataIndex"],"sources":["/Users/jiangxingnandecomputer/Desktop/gao_kao_system/src/components/DataTable.vue"],"sourcesContent":["<template>\n    <div>\n      <a-form layout=\"inline\" @submit.prevent=\"handleFilter\">\n        <a-form-item label=\"批次\">\n          <a-select placeholder=\"选择批次\" style=\"width: 200px\" @change=\"updateBatch\">\n            <a-select-option value=\"提前批本科\">提前批本科</a-select-option>\n            <a-select-option value=\"普通批本科\">普通批本科</a-select-option>\n            <a-select-option value=\"提前批专科\">提前批专科</a-select-option>\n            <a-select-option value=\"普通批专科\">普通批专科</a-select-option>\n          </a-select>\n        </a-form-item>\n        <a-form-item label=\"再选\">\n          <a-select placeholder=\"选择再选\" style=\"width: 200px\" @change=\"updateSubjectType\">\n            <a-select-option value=\"化学\">化学</a-select-option>\n            <a-select-option value=\"不限\">不限</a-select-option>\n          </a-select>\n        </a-form-item>\n        <a-form-item label=\"省份\">\n          <a-select placeholder=\"选择省份\" style=\"width: 200px\" @change=\"updateProvince\">\n            <!-- Add options for provinces dynamically based on data -->\n          </a-select>\n        </a-form-item>\n        <a-form-item label=\"公办民办\">\n          <a-select placeholder=\"选择公办民办\" style=\"width: 200px\" @change=\"updateType\">\n            <a-select-option value=\"公办\">公办</a-select-option>\n            <a-select-option value=\"民办\">民办</a-select-option>\n          </a-select>\n        </a-form-item>\n        <a-form-item label=\"专业类\">\n          <a-select placeholder=\"选择专业类\" style=\"width: 200px\" @change=\"updateMajorType\">\n            <!-- Add options for major types dynamically based on data -->\n          </a-select>\n        </a-form-item>\n        <a-form-item label=\"专业名称\">\n          <a-select placeholder=\"选择专业名称\" style=\"width: 200px\" @change=\"updateMajorName\">\n            <!-- Add options for major names dynamically based on data -->\n          </a-select>\n        </a-form-item>\n        <a-form-item label=\"分数区间\">\n          <a-input-number placeholder=\"最低分\" style=\"width: 100px\" @change=\"updateMinScore\" />\n          -\n          <a-input-number placeholder=\"最高分\" style=\"width: 100px\" @change=\"updateMaxScore\" />\n        </a-form-item>\n        <a-form-item>\n          <a-button type=\"primary\" @click=\"handleFilter\">筛选</a-button>\n        </a-form-item>\n      </a-form>\n  \n      <a-table :columns=\"columns\" :dataSource=\"filteredData\">\n        <template #headerCell=\"{ column }\">\n          <template v-if=\"column.key === 'schoolName'\">\n            <span>\n              <SmileOutlined />\n              院校名称\n            </span>\n          </template>\n        </template>\n  \n        <template #bodyCell=\"{ column, record }\">\n          <template v-if=\"column.key === 'schoolName'\">\n            <a>{{ record['院校名称'] }}</a>\n          </template>\n          <template v-else-if=\"column.key === 'majorName'\">\n            <span>{{ record['专业名称'] }}</span>\n          </template>\n          <template v-else-if=\"column.key === 'province'\">\n            <span>{{ record['省市自治区'] }}</span>\n          </template>\n          <template v-else-if=\"column.key === 'score'\">\n            <span>{{ record['2023年投档线'] }}</span>\n          </template>\n          <template v-else-if=\"column.key === 'type'\">\n            <span>{{ record['办学性质备注'] }}</span>\n          </template>\n          <template v-else-if=\"column.key === 'majorType'\">\n            <span>{{ record['专业类'] }}</span>\n          </template>\n        </template>\n      </a-table>\n    </div>\n  </template>\n  \n  <script>\n  import { ref } from 'vue';\n  import { SmileOutlined } from '@ant-design/icons-vue';\n  import fileMappings from '@/data/index.js';\n  \n  export default {\n    name: 'DataTable',\n    components: {\n      SmileOutlined,\n    },\n    setup() {\n      const selectedBatch = ref('');\n      const selectedSubjectType = ref('');\n      const selectedProvince = ref('');\n      const selectedType = ref('');\n      const selectedMajorType = ref('');\n      const selectedMajorName = ref('');\n      const minScore = ref(null);\n      const maxScore = ref(null);\n  \n      const filteredData = ref([]);\n  \n      const updateBatch = (value) => {\n        selectedBatch.value = value;\n        loadData();\n      };\n  \n      const updateSubjectType = (value) => {\n        selectedSubjectType.value = value;\n        filterData();\n      };\n  \n      const updateProvince = (value) => {\n        selectedProvince.value = value;\n        filterData();\n      };\n  \n      const updateType = (value) => {\n        selectedType.value = value;\n        filterData();\n      };\n  \n      const updateMajorType = (value) => {\n        selectedMajorType.value = value;\n        filterData();\n      };\n  \n      const updateMajorName = (value) => {\n        selectedMajorName.value = value;\n        filterData();\n      };\n  \n      const updateMinScore = (value) => {\n        minScore.value = value;\n        filterData();\n      };\n  \n      const updateMaxScore = (value) => {\n        maxScore.value = value;\n        filterData();\n      };\n  \n      const handleFilter = () => {\n        filterData();\n      };\n\n      \n\n      const loadData = async () => {\n  try {\n    // Determine the file name based on batch and current URL\n    const url = window.location.href;\n    let category = '';\n    if (url.includes('history')) {\n      category = '历史类';\n    } else if (url.includes('physics')) {\n      category = '物理类';\n    }\n    const batch = selectedBatch.value;\n    const key = `${category}${batch}.json`;\n\n    // Load the JSON file using the mapping\n    const data = fileMappings[key];\n    if (data) {\n      filteredData.value = data;\n      filterData();\n    } else {\n      throw new Error(`Data file ${key} not found`);\n    }\n  } catch (error) {\n    console.error('Error loading data:', error);\n  }\n};\n\n\n\n  \n      const filterData = () => {\n        filteredData.value = filteredData.value.filter((item) => {\n          return (\n            (selectedSubjectType.value === '' || item['再选'] === selectedSubjectType.value) &&\n            (selectedProvince.value === '' || item['省市自治区'] === selectedProvince.value) &&\n            (selectedType.value === '' || item['办学性质备注'] === selectedType.value) &&\n            (selectedMajorType.value === '' || item['专业类'] === selectedMajorType.value) &&\n            (selectedMajorName.value === '' || item['专业名称'] === selectedMajorName.value) &&\n            (minScore.value === null || item['2023年投档线'] >= minScore.value) &&\n            (maxScore.value === null || item['2023年投档线'] <= maxScore.value)\n          );\n        });\n      };\n  \n      return {\n        selectedBatch,\n        selectedSubjectType,\n        selectedProvince,\n        selectedType,\n        selectedMajorType,\n        selectedMajorName,\n        minScore,\n        maxScore,\n        filteredData,\n        updateBatch,\n        updateSubjectType,\n        updateProvince,\n        updateType,\n        updateMajorType,\n        updateMajorName,\n        updateMinScore,\n        updateMaxScore,\n        handleFilter,\n      };\n    },\n    data() {\n      return {\n        columns: [\n          {\n            title: '院校名称',\n            dataIndex: 'schoolName',\n            key: 'schoolName',\n          },\n          {\n            title: '专业名称',\n            dataIndex: 'majorName',\n            key: 'majorName',\n          },\n          {\n            title: '省份',\n            dataIndex: 'province',\n            key: 'province',\n          },\n          {\n            title: '分数',\n            dataIndex: 'score',\n            key: 'score',\n          },\n          {\n            title: '公办民办',\n            dataIndex: 'type',\n            key: 'type',\n          },\n          {\n            title: '专业类',\n            dataIndex: 'majorType',\n            key: 'majorType',\n          },\n        ],\n      };\n    },\n  };\n  </script>\n  \n  <style scoped>\n  /* Add your styles here */\n  </style>\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}