{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted, watch, computed, onBeforeUnMount } from 'vue';\nimport { useStore } from 'vuex';\nimport fileMappings from '@/data/index.js';\nimport { notification } from 'ant-design-vue';\nimport eventBus from '@/eventBus';\nexport default {\n  name: 'DataTable',\n  setup() {\n    const store = useStore();\n    const selectedBatch = ref('');\n    const selectedSubjectType = ref('');\n    const selectedProvince = ref([]);\n    const selectedType = ref('');\n    const selectedMajorType = ref([]);\n    const selectedMajorName = ref('');\n    const minScore = ref(null);\n    const maxScore = ref(null);\n    const rawData = ref([]);\n    const filteredData = ref([]);\n    const resetFilters = () => {\n      selectedBatch.value = '';\n      selectedSubjectType.value = '';\n      selectedProvince.value = [];\n      selectedType.value = '';\n      selectedMajorType.value = [];\n      selectedMajorName.value = '';\n      minScore.value = null;\n      maxScore.value = null;\n    };\n    const saveFilters = () => {\n      const filters = {\n        batch: selectedBatch.value,\n        subjectType: selectedSubjectType.value,\n        province: selectedProvince.value,\n        type: selectedType.value,\n        majorType: selectedMajorType.value,\n        majorName: selectedMajorName.value,\n        minScore: minScore.value,\n        maxScore: maxScore.value\n      };\n      sessionStorage.setItem('database_filter_options', JSON.stringify(filters));\n      eventBus.config.globalProperties.$emit('filters-changed'); // 触发事件总线事件\n    };\n    const loadFilters = () => {\n      const filters = JSON.parse(sessionStorage.getItem('database_filter_options'));\n      if (filters) {\n        selectedBatch.value = filters.batch;\n        selectedSubjectType.value = filters.subjectType;\n        selectedProvince.value = filters.province;\n        selectedType.value = filters.type;\n        selectedMajorType.value = filters.majorType;\n        selectedMajorName.value = filters.majorName;\n        minScore.value = filters.minScore;\n        maxScore.value = filters.maxScore;\n      }\n    };\n    const clearFilters = () => {\n      resetFilters();\n      saveFilters();\n      filterData();\n    };\n    const updateBatch = async event => {\n      selectedBatch.value = event.target.value;\n      saveFilters();\n      loadData(); // 确保数据在批次更改后被加载\n    };\n    const updateSubjectType = event => {\n      selectedSubjectType.value = event.target.value;\n      saveFilters();\n      filterData();\n    };\n    const updateProvince = event => {\n      selectedProvince.value = Array.from(event.target.selectedOptions, option => option.value);\n      saveFilters();\n      filterData();\n    };\n    const updateType = event => {\n      selectedType.value = Array.from(event.target.selectedOptions, option => option.value);\n      saveFilters();\n      filterData();\n    };\n    const updateMajorType = event => {\n      selectedMajorType.value = Array.from(event.target.selectedOptions, option => option.value);\n      saveFilters();\n      filterData();\n    };\n    const updateMajorName = event => {\n      selectedMajorName.value = Array.from(event.target.selectedOptions, option => option.value);\n      saveFilters();\n      filterData();\n    };\n    const updateMinScore = event => {\n      minScore.value = event.target.value;\n      saveFilters();\n      filterData();\n    };\n    const updateMaxScore = event => {\n      maxScore.value = event.target.value;\n      saveFilters();\n      filterData();\n    };\n    const handleFilter = () => {\n      saveFilters();\n      filterData();\n    };\n    const loadData = async () => {\n      try {\n        const url = window.location.href;\n        let category = '';\n        if (url.includes('history')) {\n          category = '历史类';\n        } else if (url.includes('physics')) {\n          category = '物理类';\n        }\n        const batch = selectedBatch.value;\n        const key = `${category}${batch}`;\n        const data = fileMappings[key];\n        if (data) {\n          rawData.value = data.default || data;\n          filterData();\n        } else {\n          throw new Error(`Data file ${key} not found`);\n        }\n      } catch (error) {\n        console.error('Error loading data:', error);\n      }\n    };\n    const filterData = () => {\n      filteredData.value = rawData.value.filter(item => {\n        const matchesMajorType = selectedMajorType.value.length === 0 || selectedMajorType.value.includes(item['专业类']);\n        const matchesProvince = selectedProvince.value.length === 0 || selectedProvince.value.includes(item['省市自治区']);\n        const matchesType = selectedType.value.length === 0 || selectedType.value.includes(item['办学性质备注']);\n        const matchesMajorName = selectedMajorName.value.length === 0 || selectedMajorName.value.includes(item['专业名称']);\n        return (selectedSubjectType.value === '' || item['再选'] === selectedSubjectType.value) && matchesProvince && matchesType && matchesMajorType && matchesMajorName && (minScore.value === null || item['2023年投档线'] >= minScore.value) && (maxScore.value === null || item['2023年投档线'] <= maxScore.value);\n      });\n    };\n    onMounted(() => {\n      loadFilters();\n      loadData();\n      eventBus.config.globalProperties.$on('filters-changed', handleFiltersChanged); // 监听事件总线事件\n    });\n    onBeforeUnMount(() => {\n      eventBus.config.globalProperties.$off('filters-changed', handleFiltersChanged); // 移除监听\n    });\n    watch(selectedBatch, () => {\n      loadData();\n    });\n    watch([selectedSubjectType, selectedProvince, selectedType, selectedMajorType, selectedMajorName, minScore, maxScore], () => {\n      filterData();\n    });\n    const openNotification = (studentName, schoolName, majorName) => {\n      notification.open({\n        message: '添加到报考档案',\n        description: `${schoolName} ${majorName} 已经被添加到 ${studentName} 的报考档案。`,\n        onClick: () => {\n          console.log('Notification Clicked!');\n        }\n      });\n    };\n    const handleAddToArchive = record => {\n      const {\n        name\n      } = store.state.studentInformation;\n      if (!name) {\n        alert('请先设定报考人');\n        return;\n      }\n      if (!store.state.tablenamelist[name]) {\n        alert('没有找到当前报考人，请先构建档案');\n        return;\n      }\n      const recordToAdd = {\n        schoolName: record['院校名称'],\n        majorName: record['专业名称']\n      };\n      store.commit('addToArchive', {\n        name,\n        record: recordToAdd\n      });\n      openNotification(name, record['院校名称'], record['专业名称']);\n    };\n    const filterOption = (input, option) => {\n      return option.value.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n    };\n    const handleFiltersChanged = () => {\n      loadFilters();\n      filterData();\n    };\n    const filterDescription = computed(() => {\n      const filters = JSON.parse(sessionStorage.getItem('database_filter_options'));\n      if (!filters) {\n        return '无';\n      }\n      let description = [];\n      if (filters.batch) {\n        description.push(`批次: ${filters.batch}`);\n      }\n      if (filters.subjectType) {\n        description.push(`再选: ${filters.subjectType}`);\n      }\n      if (filters.province && filters.province.length > 0) {\n        description.push(`省份: ${filters.province.join(', ')}`);\n      }\n      if (filters.type && filters.type.length > 0) {\n        description.push(`公办民办: ${filters.type.join(', ')}`);\n      }\n      if (filters.majorType && filters.majorType.length > 0) {\n        description.push(`专业类: ${filters.majorType.join(', ')}`);\n      }\n      if (filters.majorName) {\n        description.push(`专业名称: ${filters.majorName}`);\n      }\n      if (filters.minScore !== null) {\n        description.push(`分数下界: ${filters.minScore}`);\n      }\n      if (filters.maxScore !== null) {\n        description.push(`分数上界: ${filters.maxScore}`);\n      }\n      return description.length > 0 ? description.join('；') : '无';\n    });\n    return {\n      selectedBatch,\n      selectedSubjectType,\n      selectedProvince,\n      selectedType,\n      selectedMajorType,\n      selectedMajorName,\n      minScore,\n      maxScore,\n      rawData,\n      filteredData,\n      updateBatch,\n      updateSubjectType,\n      updateProvince,\n      updateType,\n      updateMajorType,\n      updateMajorName,\n      updateMinScore,\n      updateMaxScore,\n      handleFilter,\n      clearFilters,\n      filterOption,\n      handleAddToArchive,\n      filterDescription,\n      handleFiltersChanged\n    };\n  },\n  data() {\n    return {\n      columns: [{\n        title: '院校名称',\n        dataIndex: 'schoolName',\n        key: 'schoolName',\n        fixed: 'left',\n        width: 150\n      }, {\n        title: '省份',\n        dataIndex: 'province',\n        key: 'province'\n      }, {\n        title: '专业类',\n        dataIndex: 'majorType',\n        key: 'majorType'\n      }, {\n        title: '专业名称',\n        dataIndex: 'majorName',\n        key: 'majorName'\n      }, {\n        title: '公办民办',\n        dataIndex: 'type',\n        key: 'type'\n      }, {\n        title: '办学层次',\n        dataIndex: '办学层次',\n        key: '办学层次'\n      }, {\n        title: '所在地',\n        dataIndex: '所在地',\n        key: '所在地'\n      }, {\n        title: '主管部门',\n        dataIndex: '主管部门',\n        key: '主管部门'\n      }, {\n        title: '硕士招生资格',\n        dataIndex: '硕士招生资格',\n        key: '硕士招生资格'\n      }, {\n        title: '博士招生资格',\n        dataIndex: '博士招生资格',\n        key: '博士招生资格'\n      }, {\n        title: '院校代码',\n        dataIndex: '院校代码',\n        key: '院校代码'\n      }, {\n        title: '专业代码',\n        dataIndex: '专业代码',\n        key: '专业代码'\n      }, {\n        title: '学制',\n        dataIndex: '学制',\n        key: '学制'\n      }, {\n        title: '学费',\n        dataIndex: '学费',\n        key: '学费'\n      }, {\n        title: '2024年计划数',\n        dataIndex: '2024年计划数',\n        key: '2024年计划数'\n      }, {\n        title: '2023年计划',\n        dataIndex: '2023年计划',\n        key: '2023年计划'\n      }, {\n        title: '2023年投档线位次',\n        dataIndex: '2023年投档线位次',\n        key: '2023年投档线位次'\n      }, {\n        title: '分数',\n        dataIndex: 'score',\n        key: 'score'\n      }, {\n        title: '操作',\n        key: 'actions',\n        dataIndex: 'actions',\n        fixed: 'right'\n      }]\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","watch","computed","onBeforeUnMount","useStore","fileMappings","notification","eventBus","name","setup","store","selectedBatch","selectedSubjectType","selectedProvince","selectedType","selectedMajorType","selectedMajorName","minScore","maxScore","rawData","filteredData","resetFilters","value","saveFilters","filters","batch","subjectType","province","type","majorType","majorName","sessionStorage","setItem","JSON","stringify","config","globalProperties","$emit","loadFilters","parse","getItem","clearFilters","filterData","updateBatch","event","target","loadData","updateSubjectType","updateProvince","Array","from","selectedOptions","option","updateType","updateMajorType","updateMajorName","updateMinScore","updateMaxScore","handleFilter","url","window","location","href","category","includes","key","data","default","Error","error","console","filter","item","matchesMajorType","length","matchesProvince","matchesType","matchesMajorName","$on","handleFiltersChanged","$off","openNotification","studentName","schoolName","open","message","description","onClick","log","handleAddToArchive","record","state","studentInformation","alert","tablenamelist","recordToAdd","commit","filterOption","input","toLowerCase","indexOf","filterDescription","push","join","columns","title","dataIndex","fixed","width"],"sources":["/Users/jiangxingnan/Desktop/gao_kao_system/src/components/DataTable.vue"],"sourcesContent":["<template class=\"data-table-container\">\n    <div>\n        <div style=\"display: flex;\">\n            <div style=\"margin-bottom: 10px;\">\n                <a-button type=\"primary\" @click=\"clearFilters\"\n                    style=\"font-size: 0.8rem; width: 100px;\">清除筛选</a-button>\n            </div>\n            <div style=\"margin-bottom: 10px; flex: 1;\">\n                当前筛选条件：{{ filterDescription }}\n            </div>\n\n        </div>\n        <div style=\"height: 1px; background-color: #ebebeb;\">\n        </div>\n        <form @submit.prevent=\"handleFilter\" class=\"filter-form\">\n            <div class=\"form-item\">\n                <p>批次</p>\n                <select id=\"batch\" v-model=\"selectedBatch\" @change=\"updateBatch\">\n                    <option value=\"提前批本科\">提前批本科</option>\n                    <option value=\"普通批本科\">普通批本科</option>\n                    <option value=\"提前批专科\">提前批专科</option>\n                    <option value=\"普通批专科\">普通批专科</option>\n                </select>\n            </div>\n            <div class=\"form-item\">\n                <p>再选</p>\n                <select id=\"subjectType\" v-model=\"selectedSubjectType\" @change=\"updateSubjectType\">\n                    <option value=\"化学\">化学</option>\n                    <option value=\"不限\">不限</option>\n                </select>\n            </div>\n            <div class=\"form-item\">\n                <p>省份</p>\n                <select id=\"province\" v-model=\"selectedProvince\" multiple @change=\"updateProvince\"\n                    style=\"height: 70px;\">\n                    <option value=\"河北省\">河北省</option>\n                    <option value=\"山西省\">山西省</option>\n                    <option value=\"辽宁省\">辽宁省</option>\n                    <option value=\"吉林省\">吉林省</option>\n                    <option value=\"黑龙江省\">黑龙江省</option>\n                    <option value=\"江苏省\">江苏省</option>\n                    <option value=\"浙江省\">浙江省</option>\n                    <option value=\"安徽省\">安徽省</option>\n                    <option value=\"福建省\">福建省</option>\n                    <option value=\"江西省\">江西省</option>\n                    <option value=\"山东省\">山东省</option>\n                    <option value=\"河南省\">河南省</option>\n                    <option value=\"湖北省\">湖北省</option>\n                    <option value=\"湖南省\">湖南省</option>\n                    <option value=\"广东省\">广东省</option>\n                    <option value=\"海南省\">海南省</option>\n                    <option value=\"四川省\">四川省</option>\n                    <option value=\"贵州省\">贵州省</option>\n                    <option value=\"云南省\">云南省</option>\n                    <option value=\"陕西省\">陕西省</option>\n                    <option value=\"甘肃省\">甘肃省</option>\n                    <option value=\"青海省\">青海省</option>\n                    <option value=\"台湾省\">台湾省</option>\n                    <option value=\"内蒙古自治区\">内蒙古自治区</option>\n                    <option value=\"广西自治区\">广西自治区</option>\n                    <option value=\"西藏自治区\">西藏自治区</option>\n                    <option value=\"宁夏自治区\">宁夏自治区</option>\n                    <option value=\"新疆自治区\">新疆自治区</option>\n                    <option value=\"北京市\">北京市</option>\n                    <option value=\"天津市\">天津市</option>\n                    <option value=\"上海市\">上海市</option>\n                    <option value=\"重庆市\">重庆市</option>\n                    <option value=\"香港\">香港</option>\n                    <option value=\"澳门\">澳门</option>\n                </select>\n            </div>\n            <div class=\"form-item\">\n                <p>公办民办</p>\n                <select id=\"type\" v-model=\"selectedType\" multiple @change=\"updateType\" style=\"height: 70px;\">\n                    <option value=\"公办\">公办</option>\n                    <option value=\"民办\">民办</option>\n                    <option value=\"合作办学\">合作办学</option>\n                    <option value=\"军委直属院校\">军委直属院校</option>\n                    <option value=\"军兵种院校\">军兵种院校</option>\n                </select>\n            </div>\n            <div class=\"form-item\">\n                <p>专业类</p>\n                <select id=\"majorType\" v-model=\"selectedMajorType\" multiple @change=\"updateMajorType\"\n                    style=\"height: 70px;\">\n                    <option value=\"中医学类\">中医学类</option>\n                    <option value=\"中国语言文学类\">中国语言文学类</option>\n                    <option value=\"中药学类\">中药学类</option>\n                    <option value=\"中西医结合类\">中西医结合类</option>\n                    <option value=\"临床医学类\">临床医学类</option>\n                    <option value=\"交通运输类\">交通运输类</option>\n                    <option value=\"仪器类\">仪器类</option>\n                    <option value=\"体育学类\">体育学类</option>\n                    <option value=\"健康管理与促进类\">健康管理与促进类</option>\n                    <option value=\"公共卫生与预防医学类\">公共卫生与预防医学类</option>\n                    <option value=\"公共服务类\">公共服务类</option>\n                    <option value=\"公共管理类\">公共管理类</option>\n                    <option value=\"公安学类\">公安学类</option>\n                    <option value=\"公安技术类\">公安技术类</option>\n                    <option value=\"兵器类\">兵器类</option>\n                    <option value=\"农业工程类\">农业工程类</option>\n                    <option value=\"农业经济管理类\">农业经济管理类</option>\n                    <option value=\"力学类\">力学类</option>\n                    <option value=\"动物医学类\">动物医学类</option>\n                    <option value=\"动物生产类\">动物生产类</option>\n                    <option value=\"化学类\">化学类</option>\n                    <option value=\"化工与制药类\">化工与制药类</option>\n                    <option value=\"化工技术类\">化工技术类</option>\n                    <option value=\"医学技术类\">医学技术类</option>\n                    <option value=\"印刷类\">印刷类</option>\n                    <option value=\"历史学类\">历史学类</option>\n                    <option value=\"口腔医学类\">口腔医学类</option>\n                    <option value=\"哲学类\">哲学类</option>\n                    <option value=\"图书情报与档案管理类\">图书情报与档案管理类</option>\n                    <option value=\"土建施工类\">土建施工类</option>\n                    <option value=\"土木类\">土木类</option>\n                    <option value=\"地球物理学类\">地球物理学类</option>\n                    <option value=\"地理科学类\">地理科学类</option>\n                    <option value=\"地质学类\">地质学类</option>\n                    <option value=\"地质类\">地质类</option>\n                    <option value=\"基础医学类\">基础医学类</option>\n                    <option value=\"外国语言文学类\">外国语言文学类</option>\n                    <option value=\"大气科学类\">大气科学类</option>\n                    <option value=\"天文学类\">天文学类</option>\n                    <option value=\"安全科学与工程类\">安全科学与工程类</option>\n                    <option value=\"少数民族预科班\">少数民族预科班</option>\n                    <option value=\"工业工程类\">工业工程类</option>\n                    <option value=\"工商管理类\">工商管理类</option>\n                    <option value=\"康复治疗类\">康复治疗类</option>\n                    <option value=\"建筑类\">建筑类</option>\n                    <option value=\"建筑设备类\">建筑设备类</option>\n                    <option value=\"建筑设计类\">建筑设计类</option>\n                    <option value=\"建设工程管理类\">建设工程管理类</option>\n                    <option value=\"心理学类\">心理学类</option>\n                    <option value=\"戏剧与影视学类\">戏剧与影视学类</option>\n                    <option value=\"护理学类\">护理学类</option>\n                    <option value=\"护理类\">护理类</option>\n                    <option value=\"政治学类\">政治学类</option>\n                    <option value=\"教育学类\">教育学类</option>\n                    <option value=\"数学类\">数学类</option>\n                    <option value=\"新闻传播学类\">新闻传播学类</option>\n                    <option value=\"旅游管理类\">旅游管理类</option>\n                    <option value=\"机械类\">机械类</option>\n                    <option value=\"机械设计制造类\">机械设计制造类</option>\n                    <option value=\"机电设备类\">机电设备类</option>\n                    <option value=\"材料类\">材料类</option>\n                    <option value=\"林业工程类\">林业工程类</option>\n                    <option value=\"林学类\">林学类</option>\n                    <option value=\"核工程类\">核工程类</option>\n                    <option value=\"植物生产类\">植物生产类</option>\n                    <option value=\"气象类\">气象类</option>\n                    <option value=\"水上运输类\">水上运输类</option>\n                    <option value=\"水产类\">水产类</option>\n                    <option value=\"水利类\">水利类</option>\n                    <option value=\"汽车制造类\">汽车制造类</option>\n                    <option value=\"法医学类\">法医学类</option>\n                    <option value=\"法学类\">法学类</option>\n                    <option value=\"测绘类\">测绘类</option>\n                    <option value=\"海洋工程类\">海洋工程类</option>\n                    <option value=\"海洋科学类\">海洋科学类</option>\n                    <option value=\"煤炭类\">煤炭类</option>\n                    <option value=\"物流管理与工程类\">物流管理与工程类</option>\n                    <option value=\"物流类\">物流类</option>\n                    <option value=\"物理学类\">物理学类</option>\n                    <option value=\"环境保护类\">环境保护类</option>\n                    <option value=\"环境科学与工程类\">环境科学与工程类</option>\n                    <option value=\"生物医学工程类\">生物医学工程类</option>\n                    <option value=\"生物工程类\">生物工程类</option>\n                    <option value=\"生物科学类\">生物科学类</option>\n                    <option value=\"电子信息类\">电子信息类</option>\n                    <option value=\"电子商务类\">电子商务类</option>\n                    <option value=\"电气类\">电气类</option>\n                    <option value=\"石油与天然气类\">石油与天然气类</option>\n                    <option value=\"矿业类\">矿业类</option>\n                    <option value=\"社会学类\">社会学类</option>\n                    <option value=\"管理科学与工程类\">管理科学与工程类</option>\n                    <option value=\"粮食类\">粮食类</option>\n                    <option value=\"纺织类\">纺织类</option>\n                    <option value=\"经济与贸易类\">经济与贸易类</option>\n                    <option value=\"经济学类\">经济学类</option>\n                    <option value=\"统计学类\">统计学类</option>\n                    <option value=\"美术学类\">美术学类</option>\n                    <option value=\"能源动力类\">能源动力类</option>\n                    <option value=\"自动化类\">自动化类</option>\n                    <option value=\"自然保护与环境生态类\">自然保护与环境生态类</option>\n                    <option value=\"航空航天类\">航空航天类</option>\n                    <option value=\"航空装备类\">航空装备类</option>\n                    <option value=\"航空运输类\">航空运输类</option>\n                    <option value=\"艺术学理论类\">艺术学理论类</option>\n                    <option value=\"草学类\">草学类</option>\n                    <option value=\"药品与医疗器械类\">药品与医疗器械类</option>\n                    <option value=\"药学类\">药学类</option>\n                    <option value=\"计算机类\">计算机类</option>\n                    <option value=\"设计学类\">设计学类</option>\n                    <option value=\"试验班类\">试验班类</option>\n                    <option value=\"财务会计类\">财务会计类</option>\n                    <option value=\"财政学类\">财政学类</option>\n                    <option value=\"财政税务类\">财政税务类</option>\n                    <option value=\"轻工类\">轻工类</option>\n                    <option value=\"边防军人子女预科班\">边防军人子女预科班</option>\n                    <option value=\"道路运输类\">道路运输类</option>\n                    <option value=\"金融学类\">金融学类</option>\n                    <option value=\"食品科学与工程类\">食品科学与工程类</option>\n                    <option value=\"香港的大学专业\">香港的大学专业</option>\n                    <option value=\"马克思主义理论类\">马克思主义理论类</option>\n                    <option value=\"黑色金属材料类\">黑色金属材料类</option>\n                </select>\n            </div>\n            <div class=\"form-item\">\n                <p>专业名称</p>\n                <select id=\"majorName\" v-model=\"selectedMajorName\" @change=\"updateMajorName\">\n                    <!-- 动态添加专业名称 -->\n                </select>\n            </div>\n            <div class=\"form-item\">\n                <p>分数下界</p>\n                <input type=\"number\" id=\"minScore\" v-model=\"minScore\" @change=\"updateMinScore\" />\n            </div>\n            <div class=\"form-item\">\n                <p>分数上界</p>\n                <input type=\"number\" id=\"maxScore\" v-model=\"maxScore\" @change=\"updateMaxScore\" />\n            </div>\n        </form>\n        <div style=\"height: 1px; background-color: #ebebeb; margin-bottom: 10px;\">\n        </div>\n\n        <a-table :columns=\"columns\" :dataSource=\"filteredData\" :scroll=\"{ x: 2000, y: 850 }\" size=\"small\" class=\"custom-table\">\n    <template #bodyCell=\"{ column, record }\">\n        <template v-if=\"column.key === 'schoolName'\">\n            <a class=\"custom-font\">{{ record['院校名称'] }}</a>\n        </template>\n        <template v-else-if=\"column.key === 'majorName'\">\n            <span class=\"custom-font\">{{ record['专业名称'] }}</span>\n        </template>\n        <template v-else-if=\"column.key === 'province'\">\n            <span class=\"custom-font\">{{ record['省市自治区'] }}</span>\n        </template>\n        <template v-else-if=\"column.key === 'score'\">\n            <span class=\"custom-font\">{{ record['2023年投档线'] }}</span>\n        </template>\n        <template v-else-if=\"column.key === 'type'\">\n            <span class=\"custom-font\">{{ record['办学性质备注'] }}</span>\n        </template>\n        <template v-else-if=\"column.key === 'majorType'\">\n            <span class=\"custom-font\">{{ record['专业类'] }}</span>\n        </template>\n        <template v-else-if=\"column.key === 'actions'\">\n            <a-button type=\"primary\" @click=\"handleAddToArchive(record)\" class=\"custom-font\">添加</a-button>\n        </template>\n    </template>\n</a-table>\n    </div>\n</template>\n\n<script>\nimport { ref, onMounted, watch, computed, onBeforeUnMount } from 'vue';\nimport { useStore } from 'vuex';\nimport fileMappings from '@/data/index.js';\nimport { notification } from 'ant-design-vue';\nimport eventBus from '@/eventBus';\n\n\nexport default {\n    name: 'DataTable',\n    setup() {\n        const store = useStore();\n        const selectedBatch = ref('');\n        const selectedSubjectType = ref('');\n        const selectedProvince = ref([]);\n        const selectedType = ref('');\n        const selectedMajorType = ref([]);\n        const selectedMajorName = ref('');\n        const minScore = ref(null);\n        const maxScore = ref(null);\n        const rawData = ref([]);\n        const filteredData = ref([]);\n\n        const resetFilters = () => {\n            selectedBatch.value = '';\n            selectedSubjectType.value = '';\n            selectedProvince.value = [];\n            selectedType.value = '';\n            selectedMajorType.value = [];\n            selectedMajorName.value = '';\n            minScore.value = null;\n            maxScore.value = null;\n        };\n\n        const saveFilters = () => {\n    const filters = {\n        batch: selectedBatch.value,\n        subjectType: selectedSubjectType.value,\n        province: selectedProvince.value,\n        type: selectedType.value,\n        majorType: selectedMajorType.value,\n        majorName: selectedMajorName.value,\n        minScore: minScore.value,\n        maxScore: maxScore.value\n    };\n    sessionStorage.setItem('database_filter_options', JSON.stringify(filters));\n    eventBus.config.globalProperties.$emit('filters-changed'); // 触发事件总线事件\n};\n\n        const loadFilters = () => {\n            const filters = JSON.parse(sessionStorage.getItem('database_filter_options'));\n            if (filters) {\n                selectedBatch.value = filters.batch;\n                selectedSubjectType.value = filters.subjectType;\n                selectedProvince.value = filters.province;\n                selectedType.value = filters.type;\n                selectedMajorType.value = filters.majorType;\n                selectedMajorName.value = filters.majorName;\n                minScore.value = filters.minScore;\n                maxScore.value = filters.maxScore;\n            }\n        };\n\n        const clearFilters = () => {\n            resetFilters();\n            saveFilters();\n            filterData();\n        };\n\n        const updateBatch = async (event) => {\n            selectedBatch.value = event.target.value;\n            saveFilters();\n            loadData(); // 确保数据在批次更改后被加载\n        };\n\n        const updateSubjectType = (event) => {\n            selectedSubjectType.value = event.target.value;\n            saveFilters();\n            filterData();\n        };\n\n        const updateProvince = (event) => {\n            selectedProvince.value = Array.from(event.target.selectedOptions, option => option.value);\n            saveFilters();\n            filterData();\n        };\n\n        const updateType = (event) => {\n            selectedType.value = Array.from(event.target.selectedOptions, option => option.value);\n            saveFilters();\n            filterData();\n        };\n\n        const updateMajorType = (event) => {\n            selectedMajorType.value = Array.from(event.target.selectedOptions, option => option.value);\n            saveFilters();\n            filterData();\n        };\n        const updateMajorName = (event) => {\n            selectedMajorName.value = Array.from(event.target.selectedOptions, option => option.value);\n            saveFilters();\n            filterData();\n        };\n\n        const updateMinScore = (event) => {\n            minScore.value = event.target.value;\n            saveFilters();\n            filterData();\n        };\n\n        const updateMaxScore = (event) => {\n            maxScore.value = event.target.value;\n            saveFilters();\n            filterData();\n        };\n\n        const handleFilter = () => {\n            saveFilters();\n            filterData();\n        };\n\n        const loadData = async () => {\n            try {\n                const url = window.location.href;\n                let category = '';\n                if (url.includes('history')) {\n                    category = '历史类';\n                } else if (url.includes('physics')) {\n                    category = '物理类';\n                }\n                const batch = selectedBatch.value;\n                const key = `${category}${batch}`;\n                const data = fileMappings[key];\n                if (data) {\n                    rawData.value = data.default || data;\n                    filterData();\n                } else {\n                    throw new Error(`Data file ${key} not found`);\n                }\n            } catch (error) {\n                console.error('Error loading data:', error);\n            }\n        };\n\n        const filterData = () => {\n            filteredData.value = rawData.value.filter((item) => {\n                const matchesMajorType = selectedMajorType.value.length === 0 || selectedMajorType.value.includes(item['专业类']);\n                const matchesProvince = selectedProvince.value.length === 0 || selectedProvince.value.includes(item['省市自治区']);\n                const matchesType = selectedType.value.length === 0 || selectedType.value.includes(item['办学性质备注']);\n                const matchesMajorName = selectedMajorName.value.length === 0 || selectedMajorName.value.includes(item['专业名称']);\n                return (\n                    (selectedSubjectType.value === '' || item['再选'] === selectedSubjectType.value) &&\n                    matchesProvince &&\n                    matchesType &&\n                    matchesMajorType &&\n                    matchesMajorName &&\n                    (minScore.value === null || item['2023年投档线'] >= minScore.value) &&\n                    (maxScore.value === null || item['2023年投档线'] <= maxScore.value)\n                );\n            });\n        };\n\n        onMounted(() => {\n            loadFilters();\n            loadData();\n            eventBus.config.globalProperties.$on('filters-changed', handleFiltersChanged); // 监听事件总线事件\n        });\n\n        onBeforeUnMount(() => {\n            eventBus.config.globalProperties.$off('filters-changed', handleFiltersChanged); // 移除监听\n        });\n\n        watch(selectedBatch, () => {\n            loadData();\n        });\n\n        watch([selectedSubjectType, selectedProvince, selectedType, selectedMajorType, selectedMajorName, minScore, maxScore], () => {\n            filterData();\n        });\n\n        const openNotification = (studentName, schoolName, majorName) => {\n            notification.open({\n                message: '添加到报考档案',\n                description: `${schoolName} ${majorName} 已经被添加到 ${studentName} 的报考档案。`,\n                onClick: () => {\n                    console.log('Notification Clicked!');\n                },\n            });\n        };\n\n        const handleAddToArchive = (record) => {\n            const { name } = store.state.studentInformation;\n            if (!name) {\n                alert('请先设定报考人');\n                return;\n            }\n\n            if (!store.state.tablenamelist[name]) {\n                alert('没有找到当前报考人，请先构建档案');\n                return;\n            }\n\n            const recordToAdd = {\n                schoolName: record['院校名称'],\n                majorName: record['专业名称'],\n            };\n            store.commit('addToArchive', { name, record: recordToAdd });\n            openNotification(name, record['院校名称'], record['专业名称']);\n        };\n\n        const filterOption = (input, option) => {\n            return option.value.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n        };\n\n        const handleFiltersChanged = () => {\n            loadFilters();\n            filterData();\n        };\n\n\n        const filterDescription = computed(() => {\n        const filters = JSON.parse(sessionStorage.getItem('database_filter_options'));\n        if (!filters) {\n            return '无';\n        }\n        let description = [];\n        if (filters.batch) {\n            description.push(`批次: ${filters.batch}`);\n        }\n        if (filters.subjectType) {\n            description.push(`再选: ${filters.subjectType}`);\n        }\n        if (filters.province && filters.province.length > 0) {\n            description.push(`省份: ${filters.province.join(', ')}`);\n        }\n        if (filters.type && filters.type.length > 0) {\n            description.push(`公办民办: ${filters.type.join(', ')}`);\n        }\n        if (filters.majorType && filters.majorType.length > 0) {\n            description.push(`专业类: ${filters.majorType.join(', ')}`);\n        }\n        if (filters.majorName) {\n            description.push(`专业名称: ${filters.majorName}`);\n        }\n        if (filters.minScore !== null) {\n            description.push(`分数下界: ${filters.minScore}`);\n        }\n        if (filters.maxScore !== null) {\n            description.push(`分数上界: ${filters.maxScore}`);\n        }\n        return description.length > 0 ? description.join('；') : '无';\n    });\n\n\n        return {\n            selectedBatch,\n            selectedSubjectType,\n            selectedProvince,\n            selectedType,\n            selectedMajorType,\n            selectedMajorName,\n            minScore,\n            maxScore,\n            rawData,\n            filteredData,\n            updateBatch,\n            updateSubjectType,\n            updateProvince,\n            updateType,\n            updateMajorType,\n            updateMajorName,\n            updateMinScore,\n            updateMaxScore,\n            handleFilter,\n            clearFilters,\n            filterOption,\n            handleAddToArchive,\n            filterDescription,\n            handleFiltersChanged\n        };\n    },\n    data() {\n        return {\n            columns: [\n                {\n                    title: '院校名称',\n                    dataIndex: 'schoolName',\n                    key: 'schoolName',\n                    fixed: 'left',\n                    width: 150,\n                },\n                {\n                    title: '省份',\n                    dataIndex: 'province',\n                    key: 'province',\n                },\n                {\n                    title: '专业类',\n                    dataIndex: 'majorType',\n                    key: 'majorType',\n                },\n                {\n                    title: '专业名称',\n                    dataIndex: 'majorName',\n                    key: 'majorName',\n                },\n                {\n                    title: '公办民办',\n                    dataIndex: 'type',\n                    key: 'type',\n                },\n                {\n                    title: '办学层次',\n                    dataIndex: '办学层次',\n                    key: '办学层次',\n                },\n                {\n                    title: '所在地',\n                    dataIndex: '所在地',\n                    key: '所在地',\n                },\n                {\n                    title: '主管部门',\n                    dataIndex: '主管部门',\n                    key: '主管部门',\n                },\n                {\n                    title: '硕士招生资格',\n                    dataIndex: '硕士招生资格',\n                    key: '硕士招生资格',\n                },\n                {\n                    title: '博士招生资格',\n                    dataIndex: '博士招生资格',\n                    key: '博士招生资格',\n                },\n                {\n                    title: '院校代码',\n                    dataIndex: '院校代码',\n                    key: '院校代码',\n                },\n                {\n                    title: '专业代码',\n                    dataIndex: '专业代码',\n                    key: '专业代码',\n                },\n                {\n                    title: '学制',\n                    dataIndex: '学制',\n                    key: '学制',\n                },\n                {\n                    title: '学费',\n                    dataIndex: '学费',\n                    key: '学费',\n                },\n                {\n                    title: '2024年计划数',\n                    dataIndex: '2024年计划数',\n                    key: '2024年计划数',\n                },\n                {\n                    title: '2023年计划',\n                    dataIndex: '2023年计划',\n                    key: '2023年计划',\n                },\n                {\n                    title: '2023年投档线位次',\n                    dataIndex: '2023年投档线位次',\n                    key: '2023年投档线位次',\n                },\n                {\n                    title: '分数',\n                    dataIndex: 'score',\n                    key: 'score',\n                },\n                {\n                    title: '操作',\n                    key: 'actions',\n                    dataIndex: 'actions',\n                    fixed: 'right',\n                }\n            ],\n        };\n    },\n};\n</script>\n\n<style scoped>\nbody {\n    font-family: Arial, sans-serif;\n}\n\n.data-table-container {\n    padding: 20px;\n    background-color: #ffffff;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n    min-height: 1000px;\n}\n\n.filter-form {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 16px;\n    background-color: #f5f5f5;\n    padding: 10px\n}\n\n.form-item {\n    flex: 0 0 130px;\n    padding: 5px;\n\n}\n\n.form-item:hover {\n    border: 1px dashed #bfbfbf;\n    padding: 4px;\n}\n\n.form-item p {\n    font-size: 0.8rem;\n    font-weight: bold;\n    margin-bottom: 2px;\n    color: #000000;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    padding: 3px;\n    width: 80px;\n    text-align: left;\n    transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\nselect {\n    padding: 10px 15px;\n    font-size: 0.8rem;\n    border: 2px solid #007BFF;\n    background-color: #fff;\n    color: #333;\n    outline: none;\n    transition: border-color 0.3s, box-shadow 0.3s;\n    width: 100%;\n    box-sizing: border-box;\n}\n\nselect:hover {\n    border-color: #0056b3;\n}\n\nselect:focus {\n    border-color: #0056b3;\n    box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);\n}\n\n.form-item select::placeholder {\n    color: #aaa;\n}\n\noption {\n    font-size: 0.8rem;\n    padding: 1px;\n}\n\nselect,\ninput[type=\"number\"] {\n    width: 100%;\n    padding: 8px;\n    border: 1px solid #d9d9d9;\n    transition: border-color 0.3s ease;\n}\n\nselect:focus,\ninput[type=\"number\"]:focus {\n    border-color: #40a9ff;\n    outline: none;\n}\n\n.ant-table {\n    background: white;\n    overflow: hidden;\n}\n\n.custom-table .custom-font {\n    font-size: 0.8rem;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}