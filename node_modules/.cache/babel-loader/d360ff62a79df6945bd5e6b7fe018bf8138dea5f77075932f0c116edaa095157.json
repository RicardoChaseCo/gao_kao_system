{"ast":null,"code":"import { ref, computed } from 'vue';\nimport { SmileOutlined } from '@ant-design/icons-vue';\nexport default {\n  name: 'DataTable',\n  components: {\n    SmileOutlined\n  },\n  props: {\n    data: {\n      type: Array,\n      required: true\n    }\n  },\n  setup(props) {\n    const selectedSubjectType = ref('');\n    const selectedBatch = ref('');\n    const showSelection = ref(false);\n    const filteredData = computed(() => {\n      console.log(\"Filtering data with: \", selectedSubjectType.value, selectedBatch.value); // 调试信息\n      if (selectedSubjectType.value && selectedBatch.value) {\n        return props.data.filter(item => item['再选'] === selectedSubjectType.value && item['批次'] === selectedBatch.value);\n      } else {\n        return [];\n      }\n    });\n    const updateSubjectType = value => {\n      selectedSubjectType.value = value;\n    };\n    const updateBatch = value => {\n      selectedBatch.value = value;\n    };\n    const handleFilter = () => {\n      showSelection.value = true;\n      console.log(\"Filtering with: \", selectedSubjectType.value, selectedBatch.value); // 调试信息\n    };\n    return {\n      selectedSubjectType,\n      selectedBatch,\n      showSelection,\n      handleFilter,\n      filteredData,\n      updateSubjectType,\n      updateBatch\n    };\n  },\n  data() {\n    return {\n      columns: [{\n        title: '院校名称',\n        dataIndex: 'schoolName',\n        key: 'schoolName'\n      }, {\n        title: '专业名称',\n        dataIndex: 'majorName',\n        key: 'majorName'\n      }, {\n        title: '省份',\n        dataIndex: 'province',\n        key: 'province'\n      }, {\n        title: '分数',\n        dataIndex: 'score',\n        key: 'score'\n      }]\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","SmileOutlined","name","components","props","data","type","Array","required","setup","selectedSubjectType","selectedBatch","showSelection","filteredData","console","log","value","filter","item","updateSubjectType","updateBatch","handleFilter","columns","title","dataIndex","key"],"sources":["/Users/jiangxingnandecomputer/Desktop/gao_kao_system/src/components/DataTable.vue"],"sourcesContent":["<template>\n    <div>\n      <a-form layout=\"inline\" @submit.prevent=\"handleFilter\">\n        <a-form-item label=\"再选\">\n          <a-select placeholder=\"选择再选\" style=\"width: 200px\" @change=\"updateSubjectType\">\n            <a-select-option value=\"历史类\">历史类</a-select-option>\n            <a-select-option value=\"物理类\">物理类</a-select-option>\n          </a-select>\n        </a-form-item>\n        <a-form-item label=\"批次\">\n          <a-select placeholder=\"选择批次\" style=\"width: 200px\" @change=\"updateBatch\">\n            <a-select-option value=\"提前批本科\">提前批本科</a-select-option>\n            <a-select-option value=\"普通批本科\">普通批本科</a-select-option>\n            <a-select-option value=\"提前批专科\">提前批专科</a-select-option>\n            <a-select-option value=\"普通批专科\">普通批专科</a-select-option>\n          </a-select>\n        </a-form-item>\n        <a-form-item>\n          <a-button type=\"primary\" @click=\"handleFilter\">筛选</a-button>\n        </a-form-item>\n      </a-form>\n  \n      <div v-if=\"showSelection\">\n        <h2>再选: {{ selectedSubjectType }}</h2>\n        <h2>批次: {{ selectedBatch }}</h2>\n      </div>\n  \n      <a-table :columns=\"columns\" :dataSource=\"filteredData\">\n        <template #headerCell=\"{ column }\">\n          <template v-if=\"column.key === 'schoolName'\">\n            <span>\n              <SmileOutlined />\n              院校名称\n            </span>\n          </template>\n        </template>\n  \n        <template #bodyCell=\"{ column, record }\">\n          <template v-if=\"column.key === 'schoolName'\">\n            <a>\n              {{ record.schoolName }}\n            </a>\n          </template>\n          <template v-else-if=\"column.key === 'majorName'\">\n            <span>\n              {{ record.majorName }}\n            </span>\n          </template>\n          <template v-else-if=\"column.key === 'province'\">\n            <span>\n              {{ record.province }}\n            </span>\n          </template>\n          <template v-else-if=\"column.key === 'score'\">\n            <span>\n              {{ record.score }}\n            </span>\n          </template>\n        </template>\n      </a-table>\n    </div>\n  </template>\n  \n  <script>\n  import { ref, computed } from 'vue';\n  import { SmileOutlined } from '@ant-design/icons-vue';\n  \n  export default {\n    name: 'DataTable',\n    components: {\n      SmileOutlined,\n    },\n    props: {\n      data: {\n        type: Array,\n        required: true,\n      },\n    },\n    setup(props) {\n      const selectedSubjectType = ref('');\n      const selectedBatch = ref('');\n      const showSelection = ref(false);\n  \n      const filteredData = computed(() => {\n        console.log(\"Filtering data with: \", selectedSubjectType.value, selectedBatch.value); // 调试信息\n        if (selectedSubjectType.value && selectedBatch.value) {\n          return props.data.filter(item =>\n            item['再选'] === selectedSubjectType.value && item['批次'] === selectedBatch.value\n          );\n        } else {\n          return [];\n        }\n      });\n  \n      const updateSubjectType = (value) => {\n        selectedSubjectType.value = value;\n      };\n  \n      const updateBatch = (value) => {\n        selectedBatch.value = value;\n      };\n  \n      const handleFilter = () => {\n        showSelection.value = true;\n        console.log(\"Filtering with: \", selectedSubjectType.value, selectedBatch.value); // 调试信息\n      };\n  \n      return {\n        selectedSubjectType,\n        selectedBatch,\n        showSelection,\n        handleFilter,\n        filteredData,\n        updateSubjectType,\n        updateBatch,\n      };\n    },\n    data() {\n      return {\n        columns: [\n          {\n            title: '院校名称',\n            dataIndex: 'schoolName',\n            key: 'schoolName',\n          },\n          {\n            title: '专业名称',\n            dataIndex: 'majorName',\n            key: 'majorName',\n          },\n          {\n            title: '省份',\n            dataIndex: 'province',\n            key: 'province',\n          },\n          {\n            title: '分数',\n            dataIndex: 'score',\n            key: 'score',\n          },\n        ],\n      };\n    },\n  };\n  </script>\n  \n  <style scoped>\n  /* Add your styles here */\n  </style>\n  "],"mappings":"AAgEE,SAASA,GAAG,EAAEC,QAAO,QAAS,KAAK;AACnC,SAASC,aAAY,QAAS,uBAAuB;AAErD,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,KAAK,EAAE;IACLC,IAAI,EAAE;MACJC,IAAI,EAAEC,KAAK;MACXC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,KAAKA,CAACL,KAAK,EAAE;IACX,MAAMM,mBAAkB,GAAIX,GAAG,CAAC,EAAE,CAAC;IACnC,MAAMY,aAAY,GAAIZ,GAAG,CAAC,EAAE,CAAC;IAC7B,MAAMa,aAAY,GAAIb,GAAG,CAAC,KAAK,CAAC;IAEhC,MAAMc,YAAW,GAAIb,QAAQ,CAAC,MAAM;MAClCc,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEL,mBAAmB,CAACM,KAAK,EAAEL,aAAa,CAACK,KAAK,CAAC,EAAE;MACtF,IAAIN,mBAAmB,CAACM,KAAI,IAAKL,aAAa,CAACK,KAAK,EAAE;QACpD,OAAOZ,KAAK,CAACC,IAAI,CAACY,MAAM,CAACC,IAAG,IAC1BA,IAAI,CAAC,IAAI,MAAMR,mBAAmB,CAACM,KAAI,IAAKE,IAAI,CAAC,IAAI,MAAMP,aAAa,CAACK,KAC3E,CAAC;MACH,OAAO;QACL,OAAO,EAAE;MACX;IACF,CAAC,CAAC;IAEF,MAAMG,iBAAgB,GAAKH,KAAK,IAAK;MACnCN,mBAAmB,CAACM,KAAI,GAAIA,KAAK;IACnC,CAAC;IAED,MAAMI,WAAU,GAAKJ,KAAK,IAAK;MAC7BL,aAAa,CAACK,KAAI,GAAIA,KAAK;IAC7B,CAAC;IAED,MAAMK,YAAW,GAAIA,CAAA,KAAM;MACzBT,aAAa,CAACI,KAAI,GAAI,IAAI;MAC1BF,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEL,mBAAmB,CAACM,KAAK,EAAEL,aAAa,CAACK,KAAK,CAAC,EAAE;IACnF,CAAC;IAED,OAAO;MACLN,mBAAmB;MACnBC,aAAa;MACbC,aAAa;MACbS,YAAY;MACZR,YAAY;MACZM,iBAAiB;MACjBC;IACF,CAAC;EACH,CAAC;EACDf,IAAIA,CAAA,EAAG;IACL,OAAO;MACLiB,OAAO,EAAE,CACP;QACEC,KAAK,EAAE,MAAM;QACbC,SAAS,EAAE,YAAY;QACvBC,GAAG,EAAE;MACP,CAAC,EACD;QACEF,KAAK,EAAE,MAAM;QACbC,SAAS,EAAE,WAAW;QACtBC,GAAG,EAAE;MACP,CAAC,EACD;QACEF,KAAK,EAAE,IAAI;QACXC,SAAS,EAAE,UAAU;QACrBC,GAAG,EAAE;MACP,CAAC,EACD;QACEF,KAAK,EAAE,IAAI;QACXC,SAAS,EAAE,OAAO;QAClBC,GAAG,EAAE;MACP,CAAC;IAEL,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}